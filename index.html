<!DOCTYPE html>
<html>
<head>
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<link rel="stylesheet" href="https://code.jquery.com/mobile/1.4.2/jquery.mobile-1.4.2.min.css" />
		<script src="https://code.jquery.com/jquery-1.11.3.min.js"></script>
		<script src="https://code.jquery.com/mobile/1.4.5/jquery.mobile-1.4.5.min.js"></script>
		<script src="signout.js"></script>
</head>

<body>
	<div data-role="page" id="pageone">
		<div data-role="header">
			<h1><center>MU Find My Lecture<center></h1>
		</div>
		<div data-role="main">
			<h2><center>Sign-in</center></h2>
			<form method="post" action="#pagefour">
				<head>
					<meta charset="UTF-8">
					<title>MU Find My Lecture</title>
				    <script src="https://www.gstatic.com/firebasejs/3.5.2/firebase.js"></script>
					<script>
					    // Initialize Firebase
					    var config = {
							apiKey: "AIzaSyCQTLpFCnyuZ9bBOEQm5j4yHggM5IcDDfY",
							authDomain: "my-new-project-c5b4a.firebaseapp.com",
							databaseURL: "https://my-new-project-c5b4a.firebaseio.com",
							storageBucket: "my-new-project-c5b4a.appspot.com",
							messagingSenderId: "496488252044"
					    };
					    firebase.initializeApp(config);
					</script>
					<script src="https://www.gstatic.com/firebasejs/ui/live/0.5/firebase-ui-auth.js"></script>
					<link type="text/css" rel="stylesheet" href="https://www.gstatic.com/firebasejs/ui/live/0.5/firebase-ui-auth.css" />
					<script type="text/javascript">
						// FirebaseUI config.
						var uiConfig = {
							'signInSuccessUrl': 'index.html#pagetwo',
							'signInOptions': [
							// Leave the lines as is for the providers you want to offer your users.
							firebase.auth.GoogleAuthProvider.PROVIDER_ID,
							firebase.auth.FacebookAuthProvider.PROVIDER_ID,
							firebase.auth.TwitterAuthProvider.PROVIDER_ID,
							firebase.auth.GithubAuthProvider.PROVIDER_ID,
							firebase.auth.EmailAuthProvider.PROVIDER_ID
							],
							// Terms of service url.
							'tosUrl': '<your-tos-url>',
						};

						// Initialize the FirebaseUI Widget using Firebase.
						var ui = new firebaseui.auth.AuthUI(firebase.auth());
						// The start method will wait until the DOM is loaded.
						ui.start('#firebaseui-auth-container', uiConfig);
					</script>
					<!-- The surrounding HTML is left untouched by FirebaseUI.
						 Your app may use that space for branding, controls and other customizations.-->
					<div id="firebaseui-auth-container"></div>
				</head>
			</form> 
		</div>
		<div id="footer" data-role="footer">
			<h1>&copy; MU FML 2016.</h1>
		</div>
		
		</div>
</body>
<!------------------------------------------------------------------PAGE TWO------------------------------------------------------------------------------->
<body>
	<div data-role="page" id="pagetwo">
		<div data-role="header">
			<h2> My Profile </h2>
			<a href ="#pageone" id="Lout" class="ui-btn ui-corner-all ui-shadow ui-icon-home ui-btn-icon-left">Log Out</a>
		</div>
		<div data-role="navbar">
			<ul>
				<li><a href="#pagetwo" id="nav" data-icon="user">My Profile</a></li>
				<li><a href="#pagesix" id="nav" data-icon="location">Find My Lecture</a></li>
				<li><a href="#pagefour" id="nav" data-icon="info">Building Info</a></li>
			</ul>
		</div>
		<div data-role="main" class="ui-content">	
		<h1>Profile</h1>
		<ul>
			<li>Username</li>
			<li>Email</li>
		</ul>
			
			<div data-role="collapsible">
				<h1>View Timetable</h1>
				<table data-role="table" data-mode="columntoggle" class="ui-responsive" data-column-btn-text="Click me to hide or shown columns!" id="myTable">
					<style>
						table {
							font-family: arial, sans-serif;
							border-collapse: collapse;
							width: 100px;
							align: center;
						}
						td, th {
							border: 1px solid #dddddd;
							text-align: center;
							padding: 8px;
							width: 12px;
							resize: none;
						}
						tr:nth-child(even) {
							background-color: #dddddd;
						}
						#class{
							width: 100%;
							padding: 1px;
							margin: 1px;
							resize: none;
						}
						#mybutton{
							width:25%;
							background-color: green;
						}
					</style>
					<p>Click save at the bottom to update your timetable</p>
					<thead>
						<tr>
							<th>TIME</th>
							<th data-priority="1">MONDAY</th>
							<th data-priority="2">TUESDAY</th>
							<th data-priority="3">WEDNESDAY</th>
							<th data-priority="4">THURSDAY</th>
							<th data-priority="5">FRIDAY</th>
						</tr>
					</thead>
					<tbody>
					<tr>
						<td>09:00</td>
							<td><textarea type = "text" id="class" ></textarea>     </td>
							<td><textarea type = "text" id="class" style="resize: none;"></textarea>     </td>
							<td><textarea type = "text" id="class" style="resize: none;"></textarea>     </td>
							<td><textarea type = "text" id="class" style="resize: none;"></textarea>     </td>
							<td><textarea type = "text" id="class" style="resize: none;"></textarea>     </td>
						</tr>
						<tr>
							<td>10:00</td>
							<td><textarea type = "text" id="class" style="resize: none;"></textarea>     </td>
							<td><textarea type = "text" id="class" style="resize: none;"></textarea>     </td>
							<td><textarea type = "text" id="class" style="resize: none;"></textarea>     </td>
							<td><textarea type = "text" id="class" style="resize: none;"></textarea>     </td>							<td><textarea type = "text" id="class" style="resize: none;"></textarea>     </td>
						</tr>
						<tr>
							<td>11:00</td>
							<td><textarea type = "text" id="class" style="resize: none;"></textarea>     </td>
							<td><textarea type = "text" id="class" style="resize: none;"></textarea>     </td>
							<td><textarea type = "text" id="class" style="resize: none;"></textarea>     </td>
							<td><textarea type = "text" id="class" style="resize: none;"></textarea>     </td>
							<td><textarea type = "text" id="class" style="resize: none;"></textarea>     </td>
						</tr>
						<tr>
							<td>12:00</td>
							<td><textarea type = "text" id="class" style="resize: none;"></textarea>     </td>
							<td><textarea type = "text" id="class" style="resize: none;"></textarea>     </td>
							<td><textarea type = "text" id="class" style="resize: none;"></textarea>    </td>
							<td><textarea type = "text" id="class" style="resize: none;"></textarea>     </td>
							<td><textarea type = "text" id="class" style="resize: none;"></textarea>    </td>
						</tr>
						<tr>
							<td>13:00</td>
							<td><textarea type = "text" id="class" style="resize: none;"></textarea>     </td>
							<td><textarea type = "text" id="class" style="resize: none;"></textarea>     </td>
							<td><textarea type = "text" id="class" style="resize: none;"></textarea>     </td>
							<td><textarea type = "text" id="class" style="resize: none;"></textarea>     </td>
							<td><textarea type = "text" id="class" style="resize: none;"></textarea>     </td>
						</tr>
						<tr>
							<td>14:00</td>
							<td><textarea type = "text" id="class" style="resize: none;"></textarea>     </td>
							<td><textarea type = "text" id="class" style="resize: none;"></textarea>     </td>
							<td><textarea type = "text" id="class" style="resize: none;"></textarea>     </td>
							<td><textarea type = "text" id="class" style="resize: none;"></textarea>     </td>
							<td><textarea type = "text" id="class" style="resize: none;"></textarea>     </td>
						</tr>
						<tr>
							<td>15:00</td>
							<td><textarea type = "text" id="class" style="resize: none;"></textarea>     </td>
							<td><textarea type = "text" id="class" style="resize: none;"></textarea>     </td>
							<td><textarea type = "text" id="class" style="resize: none;"></textarea>     </td>
							<td><textarea type = "text" id="class" style="resize: none;"></textarea>     </td>
							<td><textarea type = "text" id="class" style="resize: none;"></textarea>     </td>
						</tr>
						<tr>
							<td>16:00</td>
							<td><textarea type = "text" id="class" style="resize: none;"></textarea>     </td>
							<td><textarea type = "text" id="class" style="resize: none;"></textarea>    </td>
							<td><textarea type = "text" id="class" style="resize: none;"></textarea>     </td>
							<td><textarea type = "text" id="class" style="resize: none;"></textarea>     </td>
							<td><textarea type = "text" id="class" style="resize: none;"></textarea>     </td>
						</tr>
						<tr>
							<td>17:00</td>
							<td><textarea type = "text" id="class" style="resize: none;"></textarea>     </td>
							<td><textarea type = "text" id="class" style="resize: none;"></textarea>     </td>
							<td><textarea type = "text" id="class" style="resize: none;"></textarea>     </td>
							<td><textarea type = "text" id="class" style="resize: none;"></textarea>     </td>
							<td><textarea type = "text" id="class" style="resize: none;"></textarea>     </td>
						</tr>
					</tbody>				
				</table>
				
			<button id="mybutton" onclick="myFunction()">Save</button>
			<!--form>
				<input type="button" id="mybutton" data-icon="delete" onclick="myFunction()" data-role="none" value="Button">
			</form-->
			<script>
				function myFunction() {
					document.getElementById("class").readOnly = true;
				}
			</script>
			</div>	
		</div>
	<div data-role="footer">
		<h1>&copy; MU FML 2016.</h1>
	</div>
	</div>
</body>


<!------------------------------------------------------------------------------------------------------------------------------------------------------>

<div data-role="page" id="pagefour">
  <div data-role="header">
    <h2>Buildings</h2>
	<a href ="#pageone" id="Lout" class="ui-btn ui-corner-all ui-shadow ui-icon-home ui-btn-icon-left">Log Out</a>
		
  </div>
    <div data-role="navbar">
		<ul>
			<li><a href="#pagetwo" id="nav" data-icon="user">My Profile</a></li>
			<li><a href="#pagesix" id="nav" data-icon="location">Find My Lecture</a></li>
			<li><a href="#pagefour" id="nav" data-icon="info">Building Info</a></li>
		</ul>
	</div>
  
    <div data-role="main" class="ui-content">
		<a href="#johnhume" class="ui-btn ui-shadow">John Hume</a>
		<a href="#callanb" class="ui-btn ui-shadow">Callan Building</a>
		<a href="#callanh" class="ui-btn ui-shadow">Callan Hall</a>
		<a href="#eolas" class="ui-btn ui-shadow">Eolas</a>
		<a href="#arts" class="ui-btn ui-shadow">Arts Block</a>
		<a href="#iontas" class="ui-btn ui-shadow">Iontas</a>
		<a href="#physics" class="ui-btn ui-shadow">Physics Hall</a>
    </div>
    <div data-role="footer">
		<h1>&copy; MU FML 2016.</h1>
	</div>
</div>
<!--------------------------------------------------------------------------------------------------------------------------------------------------------->

<div data-role="page" id="johnhume">
	<div data-role="header">
		<h2>Lecture Theaters</h2>
    </div>
		<div data-role="navbar">
			<ul>
				<li><a href="#pagetwo" data-icon="grid">My Profile</a></li>
				<li><a onclick="myFunction()" href="#pagesix" data-icon="location" >Find My Lecture</a></li>
				<li><a href="#pagefour" data-icon="grid">Building Info</a></li>
			</ul>
		</div>
  
  

     <div data-role="main" class="ui-content">
		<a href="#myPopup1" data-rel="popup" class="ui-btn ui-btn-inline ui-corner-all" data-position-to="window" data-transition="slidedown">JH1</a>
		<a href="#myPopup2" data-rel="popup" class="ui-btn ui-btn-inline ui-corner-all" data-position-to="window" data-transition="slidedown">JH2</a>
		<a href="#myPopup3" data-rel="popup" class="ui-btn ui-btn-inline ui-corner-all" data-position-to="window" data-transition="slidedown">JH3</a>
		<p>Select a Theater to view the timetable.</p>
    <div data-role="popup" id="myPopup1" class="ui-content" data-overlay-theme="b">
      <h3><u><center>JH1</center></u></h3>
      <p><b>09:00 - 10:00		CS240</b></p>
      <p><b>10:00 - 11:00		CS151</b></p>
      <p><b>11:00 - 12:00		MT121A</b></p>
      <p><b>12:00 - 13:00		MT201s</b></p>
      <p><b>13:00 - 14:00		MT230</b></p>
    </div>
    <div data-role="popup" id="myPopup2" class="ui-content" data-overlay-theme="b">
      <p><h3><u><center>JH2</center></u></h3>
      <p><b>09:00 - 10:00		CS240</b></p>
      <p><b>10:00 - 11:00		CS151</b></p>
      <p><b>11:00 - 12:00		MT121A</b></p>
      <p><b>12:00 - 13:00		MT201s</b></p>
      <p><b>13:00 - 14:00		MT230</b></p>
    </div>
    <div data-role="popup" id="myPopup3" class="ui-content" data-overlay-theme="b">
      <p><h3><u><center>JH3</center></u></h3>
      <p><b>09:00 - 10:00		CS240</b></p>
      <p><b>10:00 - 11:00		CS151</b></p>
      <p><b>11:00 - 12:00		MT121A</b></p>
      <p><b>12:00 - 13:00		MT201s</b></p>
      <p><b>13:00 - 14:00		MT230</b></p>
    </div>

  </div>

  <div data-role="footer">
    <h1>&copy; MU FML 2016.</h1>
  </div>
</div>

<!---------------------------------------------------------------------------------------------------------------------------------------------------->
<div data-role="page" id="pagesix">
	<div data-role="header" class="ui-responsive">
		<h2>Map</h2> 
		<a href ="#pageone" id="Lout" class="ui-btn ui-corner-all ui-shadow ui-icon-home ui-btn-icon-left">Log Out</a>
	</div>
	<div data-role="navbar">
		<ul>
			<li><a href="#pagetwo" id="nav" data-icon="user">My Profile</a></li>
			<li><a href="#pagesix" id="nav" data-icon="location">Find My Lecture</a></li>
			<li><a href="#pagefour" id="nav" data-icon="info">Building Info</a></li>
		</ul>
	</div>
	<script type="text/javascript"
		src="https://maps.googleapis.com/maps/api/js?sensor=false">
    </script>
	<script>
		function myFunction() {
			location.reload();
		}

	</script>

    <script type="text/javascript">
      // This example requires the Places library. Include the libraries=places
      // parameter when you first load the API. For example:
      // <script src="https://maps.googleapis.com/maps/api/js?key=YOUR_API_KEY&libraries=places">

    function initMap() {
			
	    var map = new google.maps.Map(document.getElementById('map'), {
            mapTypeControl: false,
            center: {lat: 53.889, lng: -6.6001},
            zoom: 10
        });
	    /***********************************************************************************/
		var x = document.getElementById("map");
			if (navigator.geolocation) {
				navigator.geolocation.getCurrentPosition(showPosition);
			} else { 
				x.innerHTML = "Geolocation is not supported by this browser.";//changed
			}
			var marker = new google.maps.Marker({position:latlon,map:map,title:"You are here!"});
 
			function showPosition(position) {
				lat = position.coords.latitude;
				lon = position.coords.longitude;
				latlon = new google.maps.LatLng(lat, lon)
				map = document.getElementById('map')

				var myOptions = {
				center:latlon,zoom:14,
				mapTypeId:google.maps.MapTypeId.ROADMAP,
				mapTypeControl:false,
				navigationControlOptions:{style:google.maps.NavigationControlStyle.SMALL}
				}
				
				var map = new google.maps.Map(document.getElementById("map"), myOptions);
				var marker = new google.maps.Marker({position:latlon,map:map,title:"You are here!"});
	
			    var origin_place_id = null;
				var destination_place_id = null;
				var travel_mode = 'WALKING';

				var directionsService = new google.maps.DirectionsService;
				var directionsDisplay = new google.maps.DirectionsRenderer;
				directionsDisplay.setMap(map);

				var origin_input = document.getElementById('origin-input');
				var destination_input = document.getElementById('destination-input');
				var modes = document.getElementById('mode-selector');

				map.controls[google.maps.ControlPosition.TOP_LEFT].push(origin_input);
				map.controls[google.maps.ControlPosition.TOP_LEFT].push(destination_input);
				map.controls[google.maps.ControlPosition.TOP_LEFT].push(modes);

				var origin_autocomplete = new google.maps.places.Autocomplete(origin_input);
				origin_autocomplete.bindTo('bounds', map);
				var destination_autocomplete = new google.maps.places.Autocomplete(destination_input);
				destination_autocomplete.bindTo('bounds', map);

				// Sets a listener on a radio button to change the filter type on Places
				// Autocomplete.
				function setupClickListener(id, mode) {
				    var radioButton = document.getElementById(id);
				    radioButton.addEventListener('click', function() {
					travel_mode = mode;
				    });
				}
				setupClickListener('changemode-walking', 'WALKING');
				setupClickListener('changemode-transit', 'TRANSIT');
				setupClickListener('changemode-driving', 'DRIVING');

				function expandViewportToFitPlace(map, place) {
				    if (place.geometry.viewport) {
					map.fitBounds(place.geometry.viewport);
				    } else {
						map.setCenter(place.geometry.location);
						map.setZoom(17);
					}
				}

				origin_autocomplete.addListener('place_changed', function() {
				    var place = origin_autocomplete.getPlace();
				    if (!place.geometry) {
						window.alert("Autocomplete's returned place contains no geometry");
						return;
					}
				    expandViewportToFitPlace(map, place);

				    // If the place has a geometry, store its place ID and route if we have
				    // the other place ID
				    origin_place_id = place.place_id;
				    route(origin_place_id, destination_place_id, travel_mode,
				    directionsService, directionsDisplay);
				});

				destination_autocomplete.addListener('place_changed', function() {
				    var place = destination_autocomplete.getPlace();
				    if (!place.geometry) {
						window.alert("Autocomplete's returned place contains no geometry");
						return;
				    }
				    expandViewportToFitPlace(map, place);

				    // If the place has a geometry, store its place ID and route if we have
				    // the other place ID
				    destination_place_id = place.place_id;
				    route(origin_place_id, destination_place_id, travel_mode,directionsService, directionsDisplay);
				});

				function route(origin_place_id, destination_place_id, travel_mode,
							   directionsService, directionsDisplay) {
				    if (!origin_place_id || !destination_place_id) {
					    return;
				    }
				    directionsService.route({
						origin: {'placeId': origin_place_id},
						destination: {'placeId': destination_place_id},
						travelMode: travel_mode
				    }, 
					function(response, status) {
						if (status === 'OK') {
					    directionsDisplay.setDirections(response);
						} else {
							window.alert('Directions request failed due to ' + status);
						}
				    });
				}
			}
			  
			function handleLocationError(browserHasGeolocation, infoWindow, pos) {
				infoWindow.setPosition(pos);
				infoWindow.setContent(browserHasGeolocation ?
				'Error: The Geolocation service failed.' :
				'Error: Your browser doesn\'t support geolocation.');
			}
	}	  
		 
		 
 
    </script>
	<style>

		#map{
			align: center;
			width: 500px; 
			height: 320px;
		}

			  .controls {
				margin-top: 10px;
				border: 1px solid transparent;
				border-radius: 10px 0 0 10px;
				box-sizing: border-box;
				-moz-box-sizing: border-box;
				height: 32px;
				outline: none;
				box-shadow: 0 2px 6px rgba(0, 0, 0, 0.3);
			  }

			  #origin-input,
			  #destination-input {
				background-color: #fff;
				font-family: Roboto;
				font-size: 15px;
				font-weight: 300;
				margin-left: 12px;
				padding: 0 11px 0 13px;
				text-overflow: ellipsis;
				width: 200px;
				height: 50px;
			  }

			  #origin-input:focus,
			  #destination-input:focus {
				border-color: #4d90fe;
			  }

			  #mode-selector label {
				width: 100px;
				height: 10px;
				font-family: Roboto;
				font-size: 13px;
				font-weight: 300;
			  }
	</style>
	<script src="javascripts/jquery.js"></script>
	<script type="text/javascript" src="javascripts/jquery.googlemap.js"></script>
	<link rel="stylesheet" href="style.css" type="text/css" />
</head>
<body>
    <div id="map"></div>
	
	<span id="latitude"></span>       
	<span id="longitude"></span>

    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDdqlOqMsn6_z3NcMn0T2jb3UOPDRWxhJc&libraries=places&callback=initMap"
    async defer></script>

    <input id="origin-input" class="controls" type="text"
        placeholder="Enter an origin location">
    <input id="destination-input" class="controls" type="text"
        placeholder="Enter a destination location">
	
    <div id="mode-selector" class="controls">
      <input type="radio" name="type" id="changemode-walking" checked="checked">
      <label for="changemode-walking">Walking</label>

      <!--input type="radio" name="type" id="changemode-transit">
      <label for="changemode-transit">Transit</label>

      <input type="radio" name="type" id="changemode-driving">
      <label for="changemode-driving">Driving</label-->
    </div>
	
    <div id="map"></div>
	<div data-role="footer">
	    <h1>&copy; MU FML 2016.</h1>
    </div>
</div>


</body>
</html>